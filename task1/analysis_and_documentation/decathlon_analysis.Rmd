---
title: "Analysis of Decathlon Data"
output:
  html_document:
    toc: true
    toc_float: true
    number_sections: true
    df_print: paged
  pdf_document: default
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```


<b>Loading libraries and cleaned data</b>

```{r message=FALSE}

library(readr)
library(here)
library(janitor)
library(tidyverse)

```


<b>Loading cleaned data</b>

```{r message=FALSE}

decathlon_tbl <-
here("clean_data/clean_data.rds") %>% 
    read_rds()

```
<b>Finding the longest long jump in the data</b>
```{r}
decathlon_tbl %>%
    group_by(event) %>% 
    filter(event == "long_jump",
           event_points == max(event_points)) %>% 
    select(-ranking:-overall_competition_points)
```



<b>Finding the average 100m time for each competition</b>
```{r message=FALSE}
decathlon_tbl %>% 
        filter(event == "100m_sprint") %>%
    group_by(competition) %>%
        summarise(average_100m_time = mean(event_points))
```

<b>Finding the competitor with the highest total points across both competitions</b>
```{r}
decathlon_tbl %>% 
    group_by(competitor) %>%
    summarise(total_competition_points = sum(overall_competition_points)) %>% 
    filter(total_competition_points == max(total_competition_points)) %>% 
    head(3)
    
```

<br>
<b>Finding the shot-put scores for the top three competitors in each competition</b>
```{r}

decathlon_tbl %>% 
    select(-overall_competition_points, -ranking) %>% 
    filter(event == "shot_put")%>% 
    group_by(competition) %>%
    top_n(3, event_points) %>% 
    arrange(desc(event_points))

```

<br>
<b>Calculating the average points for competitors who ran the 400m in less than 50 seconds vs. those that ran 400m in more than 50 seconds</b>
```{r}

decathlon_tbl %>% 
    filter(event == "400m_sprint")%>%
    group_by(event_points<50) %>% 
    summarise(average_points = mean(overall_competition_points))
```

